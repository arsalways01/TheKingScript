<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Key - Security Extreme</title>
<link rel="stylesheet" href="style.css">
<style>
*{
  user-select:none;
  -webkit-user-select:none;
  -ms-user-select:none;
}
</style>
</head>
<body>

<!-- Background Video -->
<video class="bg-video" autoplay muted loop>
  <source src="background.mp4" type="video/mp4">
</video>
<div class="overlay"></div>

<div class="container">
<div class="box">

  <img src="logo.png" class="logo">
  <h2 class="name">Arsalways</h2>

  <!-- ACCESS SFL -->
  <button id="accessBtn" class="btn verify">Access</button>

  <!-- VERIFY -->
  <button id="verifyBtn" class="btn verify">Verifikasi</button>

  <p id="countdown" class="countdown"></p>
  <p id="success" class="success">✔ Success</p>

  <div id="nextButtons" class="next">
    <button class="btn copy" onclick="copyScript()">Salin Script</button>
    <button class="btn copy" onclick="copyWeb()">Salin Web</button>
    <button class="btn king" onclick="openOverlay()">The King</button>
  </div>

</div>
</div>

<!-- OVERLAY -->
<div id="webOverlay">
  <div class="overlay-box">
    <button class="close-btn" onclick="closeOverlay()">✕</button>
    <iframe id="webFrame"></iframe>
  </div>
</div>

<!-- YOUTUBE -->
<div class="youtube-box">
<img src="https://upload.wikimedia.org/wikipedia/commons/b/b8/YouTube_Logo_2017.svg"
class="youtube-logo"
onclick="window.open('https://youtube.com/@arsalwaysss105','_blank')">
<p class="youtube-name">Arsalways</p>
</div>

<script>
/* ================= CONFIG ================= */
const SFL_URL = "https://sfl.gl/teK7FP"; 
const EXPIRE_TIME = 30 * 60 * 1000; // ✅ 30 MENIT

/* ============== BASIC SECURITY ============== */
document.addEventListener("contextmenu", e=>e.preventDefault());
document.addEventListener("keydown", e=>{
  if(
    e.key==="F12" ||
    (e.ctrlKey && e.shiftKey && ["I","J","C"].includes(e.key)) ||
    (e.ctrlKey && e.key==="U")
  ){
    e.preventDefault();
    location.reload();
  }
});

/* ============== ELEMENTS ============== */
const accessBtn = document.getElementById("accessBtn");
const verifyBtn = document.getElementById("verifyBtn");
const countdown = document.getElementById("countdown");
const success = document.getElementById("success");
const nextButtons = document.getElementById("nextButtons");

/* ============== DEVICE ID ============== */
function getDeviceId(){
  let id = localStorage.getItem("_dev");
  if(!id){
    id = crypto.randomUUID();
    localStorage.setItem("_dev", id);
  }
  return id;
}

/* ============== VERIFY STORAGE ============== */
function isVerified(){
  const d = JSON.parse(localStorage.getItem("_verify"));
  if(!d) return false;
  if(d.device !== getDeviceId()) return false;
  if(Date.now() - d.time > EXPIRE_TIME) return false;
  return true;
}

function saveVerify(){
  localStorage.setItem("_verify", JSON.stringify({
    device: getDeviceId(),
    time: Date.now()
  }));
}

function unlock(){
  accessBtn.style.display="none";
  verifyBtn.style.display="none";
  countdown.innerText="";
  success.style.display="block";
  nextButtons.style.display="block";
}

/* ============== INIT FLOW ============== */
const params = new URLSearchParams(location.search);

if(isVerified()){
  unlock();
}else if(params.get("sfl")==="ok"){
  verifyBtn.style.display="block";
  accessBtn.style.display="none";
}else{
  accessBtn.style.display="block";
  verifyBtn.style.display="none";
}

/* ============== BUTTON ACTION ============== */
accessBtn.onclick = ()=>{
  location.href = SFL_URL;
};

verifyBtn.onclick = ()=>{
  let t = 10;
  verifyBtn.disabled = true;
  verifyBtn.innerText = "Memverifikasi...";
  const i = setInterval(()=>{
    countdown.innerText = "Tunggu "+t+" detik";
    t--;
    if(t < 0){
      clearInterval(i);
      saveVerify();
      unlock();
    }
  },1000);
};

/* ============== COPY ============== */
function copyScript(){
navigator.clipboard.writeText(`javascript:(function(){try {if (window.forceClickActive) return; window.forceClickActive = true; window.forceClickHandler = function(e) { try { e.preventDefault(); e.stopImmediatePropagation(); if (e.type === 'auxclick' && e.button === 1) { window.open('https://thekingcheats.xyz/index.php','_blank'); } else { location.href = 'https://thekingcheats.xyz/index.php'; } } catch (err) {} }; document.addEventListener('click', window.forceClickHandler, true); document.addEventListener('auxclick', window.forceClickHandler, true); window.removeForceClick = function() { try { document.removeEventListener('click', window.forceClickHandler, true); document.removeEventListener('auxclick', window.forceClickHandler, true); window.forceClickActive = false; delete window.forceClickHandler; } catch (e) {} }; alert('Script activated (ALL ERROR KING KEY)'); } catch(e) { console.error(e); alert('Script error'); } })();`);
alert("Script disalin");
}

function copyWeb(){
navigator.clipboard.writeText("https://blog.techbotal.com/aplicativos-de-relacionamento-a-tecnologia-que-transformou-a-forma-de-conectar-pessoas/");
alert("Web disalin");
}

/* ============== OVERLAY ============== */
function openOverlay(){
  const url="https://thekingcheats.xyz/index.php";
  const o=document.getElementById("webOverlay");
  const f=document.getElementById("webFrame");
  f.src=url;
  o.style.display="flex";
}
function closeOverlay(){
  document.getElementById("webOverlay").style.display="none";
  document.getElementById("webFrame").src="";
}
</script>

</body>
</html>
